# ScreenMind - 智能截图答题助手需求文档

## 1. 项目概述

### 1.1 项目名称
ScreenMind - 智能截图答题助手

### 1.2 项目背景
开发一款后台运行的桌面应用，用户通过快捷键触发屏幕截图，将截图发送到AI大模型（如Gemini）进行题目识别和解答，并返回答案给用户。

### 1.3 目标用户
- 学生：在线学习、作业辅助
- 教育工作者：快速验证题目答案
- 研究人员：处理大量选择题数据

## 2. 功能需求

### 2.1 核心功能

#### 2.1.1 后台运行
- **FR-001**: 应用启动后在系统托盘运行，不显示主窗口
- **FR-002**: 提供托盘菜单，包含设置、退出等选项
- **FR-003**: 开机自启动选项（可配置）

#### 2.1.2 快捷键截图
- **FR-004**: 注册全局快捷键（默认：Ctrl+Shift+Q，可自定义）
- **FR-005**: 快捷键触发后显示截图选择界面
- **FR-006**: 支持全屏截图和区域截图
- **FR-007**: 截图预览确认功能

#### 2.1.3 AI识别与解答
- **FR-008**: 将截图上传到指定AI模型（Gemini优先）
- **FR-009**: 发送提示词要求AI识别题目并给出答案
- **FR-010**: 解析AI返回的结果
- **FR-011**: 支持多种题型：选择题、填空题、判断题

#### 2.1.4 结果展示
- **FR-012**: 在浮动窗口显示AI返回的答案
- **FR-013**: 答案窗口支持复制到剪贴板
- **FR-014**: 答案历史记录查看功能
- **FR-015**: 结果导出功能（文本/图片）

### 2.2 辅助功能

#### 2.2.1 设置管理
- **FR-016**: AI模型选择和API配置
- **FR-017**: 快捷键自定义设置
- **FR-018**: 界面主题设置（明亮/暗黑）
- **FR-019**: 语言设置（中文/英文）

#### 2.2.2 历史管理
- **FR-020**: 本地保存截图和答案历史
- **FR-021**: 历史记录搜索功能
- **FR-022**: 历史记录清理功能
- **FR-023**: 数据导出和备份

## 3. 非功能需求

### 3.1 性能需求
- **NFR-001**: 快捷键响应时间 < 500ms
- **NFR-002**: 截图处理时间 < 2s
- **NFR-003**: AI请求响应时间 < 10s（依赖网络和AI服务）
- **NFR-004**: 内存占用 < 100MB（空闲状态）

### 3.2 可用性需求
- **NFR-005**: 界面简洁直观，操作步骤不超过3步
- **NFR-006**: 支持键盘快捷操作
- **NFR-007**: 错误提示清晰友好
- **NFR-008**: 支持中英文界面

### 3.3 兼容性需求
- **NFR-009**: 支持Windows 10/11
- **NFR-010**: 支持macOS 10.15+
- **NFR-011**: 支持Linux主流发行版（Ubuntu, CentOS）
- **NFR-012**: 支持高DPI显示器

### 3.4 安全性需求
- **NFR-013**: API密钥本地加密存储
- **NFR-014**: 截图数据不在服务器保存
- **NFR-015**: 用户数据本地存储，不上传云端

## 4. 技术架构

### 4.1 技术栈推荐
- **前端框架**: Electron + React/Vue（跨平台）
- **替代方案**: Tauri + React（更轻量）
- **系统API**:
  - 截图：robot-js, screenshot-desktop
  - 快捷键：electron-globalshortcut, global-hotkey
- **AI集成**:
  - Google Gemini Vision API
  - OpenAI GPT-4V API（备选）
  - Claude API（备选）

### 4.2 系统架构
```
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   用户界面层     │    │   业务逻辑层     │    │   数据存储层     │
├─────────────────┤    ├─────────────────┤    ├─────────────────┤
│ - 托盘界面      │    │ - 截图服务      │    │ - 本地数据库     │
│ - 设置界面      │    │ - AI接口服务    │    │ - 配置文件      │
│ - 结果显示      │    │ - 快捷键管理    │    │ - 历史记录      │
│ - 历史记录      │    │ - 数据管理      │    │ - 缓存文件      │
└─────────────────┘    └─────────────────┘    └─────────────────┘
```

### 4.3 数据流程
1. 用户按下快捷键
2. 系统响应并显示截图界面
3. 用户选择截图区域，确认截图
4. 应用将图片转换为base64格式
5. 构造AI请求，发送到指定模型
6. 接收并解析AI响应
7. 在浮动窗口显示结果
8. 保存历史记录到本地数据库

## 5. 开发计划

### 5.1 开发阶段
- **阶段1**（2周）：基础框架搭建，快捷键和截图功能
- **阶段2**（2周）：AI集成和结果显示
- **阶段3**（1周）：设置界面和历史管理
- **阶段4**（1周）：测试、优化和打包发布

### 5.2 技术风险
- AI服务稳定性和响应速度
- 跨平台快捷键兼容性
- 不同操作系统的截图API差异

## 6. 验收标准

### 6.1 功能验收
- [ ] 快捷键能正常触发截图
- [ ] 截图能准确上传到AI模型
- [ ] AI能正确识别题目并返回答案
- [ ] 答案显示界面友好易用
- [ ] 历史记录功能完整

### 6.2 性能验收
- [ ] 快捷键响应延迟小于500ms
- [ ] 应用内存占用合理
- [ ] 在不同操作系统上运行稳定

## 7. 后续优化方向

- 支持OCR文字提取功能
- 批量截图处理
- 更多AI模型接入
- 云端数据同步
- 团队协作功能
- 移动端应用开发